# 存储过程



## 格式

 ```mysql
CREATE PROCEDURE <过程名> ( [过程参数[,…] ] ) <过程体>
[过程参数[,…] ] 格式
[ IN | OUT | INOUT ] <参数名> <类型>
 ```



## 存储过程权限





## 变量、过程体

### 局部变量

```mysql
-- 格式如下
#创建变量
declare <var_name> <type> -- 默认为value
#变量赋值
set var_name = "value";
select sname into var_name from student where id = 1;
#查看变量
select var_name;
```

#### 实例

```mysql
delimiter $$ 	# 定义结束符
create procedure proc01()
begin
	declare y_uname varchar(20);
    select user_name into y_uname from users where id=001;
    select y_uname;
end $$
delimiter ;		# 还原结束符

call proc01();-- 此时可以调用
select y_uname;-- 此时不可调用，因为是局部变量
```



### 用户变量



### 全局变量



#### 系统变量

#### 会话变量



### in 、out、inout

**in**

参数传入，传入后不可修改，无法传出。

**out**

参数传出。

**inout**

参数参入后可修改，并在过程结束后自动传出。

## 表达式

### 游标 cursor

##### 1. 声明游标

##### 2. 打开游标

##### 3. 使用游标

##### 4. 关闭游标

